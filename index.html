<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="loader">
                <!-- N√∫t Start ban ƒë·∫ßu ·∫©n -->
                <button id="play" style="display:none;">üê∞üê∞</button>
            </div>
        </div>
    </div>

    <audio class="song" controls loop>
        <source src="music.mp3">
        Your browser isn't invited for super fun audio time.
    </audio>

    <canvas id="confetti"></canvas>

    <div class="main">
        <div class="container pt-5">
            <div class="row">
                <div class="col-12 col-xl-6 mx-auto">
                    <img src="img/banner.png" alt="">
                </div>

                <div class="col-12 text-center">
                    <div id="name" class="area">Thanh Th·ªßy</div>
                </div>

                <div class="col-12 text-center">
                    <div class="type-wrap">
                        <div id="typed-strings" class="typing">
                            <h2>Ch√∫c m·ª´ng sinh nh·∫≠t <i id="nae">Thanh Th·ªßy</i></h2>
                            <h2>Ch√∫c tu·ªïi m·ªõi ng√†y c√†ng y√™u anh </h2>
                            <h2>Anh y√™u em ‚ù§Ô∏è</h2>
                        </div>
                        <span id="typed" style="white-space:pre;"></span>
                    </div>
                </div>

                <div class="col-12 col-xl-3 cake">
                    <img src="img/cake.gif" alt="">
                </div>
            </div>
        </div>
        <img src="img/Balloon-Border.png" width="100%" class="balloon-border">
    </div>

    <div class="countdown">
        <h2>ƒêang kh√≥a</h2> 
        <h2 id="countdown-timer">Loading...</h2>
    </div>

    <script src="https://unpkg.com/magic-snowflakes/dist/snowflakes.min.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/typed.min.js"></script>
    <script src="js/script.js"></script>

    <script>
        // H√†m t√≠nh to√°n th·ªùi gian ƒë·∫øm ng∆∞·ª£c v√† hi·ªÉn th·ªã n√∫t Start khi ƒë·∫øn ƒë√∫ng 0h ng√†y 03/12/2024
        function startCountdown() {
    const targetDate = new Date('2024-12-03T00:00:00'); // Ng√†y v√† gi·ªù m·ª•c ti√™u
    const currentDate = new Date(); // Th·ªùi gian hi·ªán t·∫°i

    const timeDiff = targetDate - currentDate; // T√≠nh to√°n th·ªùi gian c√≤n l·∫°i

    // T√≠nh to√°n ng√†y, gi·ªù, ph√∫t v√† gi√¢y
    const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);

    // Tr·∫£ v·ªÅ gi√° tr·ªã ƒë·∫øm ng∆∞·ª£c
    const countdownString = `${hours} : ${minutes} : ${seconds}`;
    
    // C·∫≠p nh·∫≠t giao di·ªán ng∆∞·ªùi d√πng
    document.getElementById("countdown-timer").innerHTML = countdownString;

    // N·∫øu th·ªùi gian ƒë·∫øm ng∆∞·ª£c ƒë√£ ƒë·∫øn, hi·ªÉn th·ªã n√∫t Start
    if (timeDiff <= 0) {
        document.getElementById("play").style.display = "block";
        document.getElementById("countdown-timer").innerHTML = "It's Time!";
    } else {
        // Ti·∫øp t·ª•c ƒë·∫øm ng∆∞·ª£c m·ªói gi√¢y
        setTimeout(startCountdown, 1000);
    }

    // Tr·∫£ v·ªÅ gi√° tr·ªã ƒë·∫øm ng∆∞·ª£c
    return countdownString;
}

// G·ªçi h√†m khi trang web ƒë∆∞·ª£c t·∫£i
window.onload = function () {
    startCountdown();
};

        // Th√™m s·ª± ki·ªán click ƒë·ªÉ b·∫Øt ƒë·∫ßu c√°c h√†nh ƒë·ªông kh√°c (nh∆∞ ph√°t nh·∫°c, hi·ªÉn th·ªã confetti)
        document.getElementById("play").addEventListener("click", function () {
            // Ph√°t nh·∫°c
            document.querySelector("audio").play();

            // K√≠ch ho·∫°t hi·ªáu ·ª©ng confetti (s·ª≠ d·ª•ng th∆∞ vi·ªán magic-snowflakes)
            snowflakes.start();

            // B·∫Øt ƒë·∫ßu hi·ªáu ·ª©ng g√µ ch·ªØ
            var options = {
                strings: ["Happy Birthday Gaurav", "Have a wonderful day", "Filled with joy and happiness."],
                typeSpeed: 50,
                backSpeed: 50,
                backDelay: 1000,
                loop: true
            };
            var typed = new Typed("#typed", options);
        });
    </script>
</body>

</html>
